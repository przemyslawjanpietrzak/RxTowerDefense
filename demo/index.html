<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/91/three.js"></script>
        <script src="orbitControls.js"></script>
		<script>
            const USE_WIREFRAME = true;

            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

            var renderer = new THREE.WebGLRenderer();
            renderer.shadowMap.type = THREE.BasicShadowMap;
            renderer.setPixelRatio( window.devicePixelRatio );
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild( renderer.domElement );

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled
            controls.dampingFactor = 0.25;

            controls.panningMode = THREE.HorizontalPanning; // default is THREE.ScreenSpacePanning

            controls.minDistance = 10;
            controls.maxDistance = 100

            controls.maxPolarAngle = Math.PI / 2;

            var ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
            scene.add(ambientLight);

            var light = ambientLight = new THREE.PointLight(0xffffff, 0.8, 18);
            light.position.set(-3, 6, -3);
            light.castShadow = true;
            light.shadow.camera.near = 0.1;
            light.shadow.camera.far = 25;
            scene.add(light);

            var geometry = new THREE.BoxGeometry(1, 1, 1);
            var material = new THREE.MeshPhongMaterial({ color: 0x00ff00 });
            var cube = new THREE.Mesh( geometry, material );
            cube.position.y = 2;
            scene.add(cube);

            meshFloor = new THREE.Mesh(
                new THREE.PlaneGeometry(10, 10, 10, 10),
                new THREE.MeshPhongMaterial({color: 0xffffff, wireframe: USE_WIREFRAME})
            );
            meshFloor.rotation.x -= Math.PI / 2; // Rotate the floor 90 degrees
            scene.add(meshFloor);

            camera.position.z = 5;
            controls.update();

            function animate() {
                cube.rotation.x += 0.01;
                cube.rotation.y += 0.01;
                cube.rotation.z += 0.01;
   
                controls.update();

                requestAnimationFrame( animate );
                renderer.render( scene, camera );
            }

            animate();
        </script>
        
	</body>
</html>